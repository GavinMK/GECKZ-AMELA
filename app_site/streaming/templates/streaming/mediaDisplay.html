{% extends "navPage.html" %}
{% load static %}

{% block content %}
	<header>{{ media.title }} <span>({{ media.metadata.release_year }})</span></header><br>

	<aside>
		<fieldset style="border: 0">
			<legend>Rating:</legend><br>
				<img id="photo" src="{% static "streaming/images/"|add:media.thumbnail_path %}"><br><br>
			{% if not episodes %}
			<div class="form-style" style="width: 200px;text-align: center;">
                <form action="{% url 'streaming:watch_media' title=media.title%}">
                    <input type="submit" value="WATCH" style="font-size: 20px;">
                </form>
            </div>
			{% endif %}
		</fieldset>
		<br><br>
		<fieldset style="size: 50px;">
			<legend style="text-align: center;">Leave a Rating</legend><br>
			<p>Implement Rating Functionality</p>
			<div class="form-style" style="width: 200px;text-align: center;">
                <form action="">
                    <input type="submit" value="Rate">
                </form>
            </div>
		</fieldset>
	</aside>

	<section>
		<fieldset>
			<legend>Details</legend>
				<p>Genre: <span>{{ media.metadata.genre }}</span></p>
				<p>Description: <span>{{ media.description }}</span></p>
				<p>Production Studio: <span>{{ media.metadata.studio }}</span></p>
				<p>Streaming Service: <span>{{ media.metadata.streaming_service }}</span></p>
				{% if not episodes %}
				<p>Runtime: <span>{{ media.runtime }}</span></p>
				{% endif %}
				<p>Actors:</p>
				{% for actor in actors %}
					<span>{{ actor.name }}</span><br><br>
				{% endfor %}
		</fieldset>
	</section>

{% if episodes %}
<section>
		<fieldset>
			<legend>Episodes</legend><br>
				{% for episode in episodes %}
					<a href="{% url 'streaming:display_episode' title=media.title season_number=episode.part_of.season_number episode_number=episode.episode_number %}"
					   style="text-decoration: underline;">Season {{ episode.part_of.season_number }} Episode {{ episode.episode_number }} {{ episode.title }}</a><br><br>
				{% endfor %}
	</fieldset>
</section>
{% endif %}

	<section>
		<fieldset>
			<legend>Comments</legend><br><br>
				<div class="form-style" style="margin: 0;padding-bottom: 20px;">
					<form action="" style="margin: 0;">
						<textarea style="text-align: left; width: 165%; height: 20px;" placeholder="Leave a comment..."></textarea>
						<input type="submit" value="Comment">
					</form>
				</div>
				{% for comment in comments %}
					<hr>
					<p><span>Posted By: </span>{{ comment.posted_by }}</p>
					<span>"{{ comment.content }}"</span><br>
				{% endfor %}
				<br>
		</fieldset>
	</section>

{% endblock %}
